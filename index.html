<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sanestory - Writing Community</title>
  <style>
    :root {
      --bg-primary: #f5f3f0;
      --bg-secondary: #ffffff;
      --text-primary: #2c1810;
      --accent: #5c3a21;
      --accent-light: #8c6d5f;
      --border: #ddd;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      background: var(--accent);
      color: white;
      padding: 20px 0;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 900px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .logo { font-size: 2em; font-weight: bold; }
    .nav-links button {
      background: var(--accent-light);
      color: white;
      border: none;
      padding: 8px 15px;
      margin-left: 5px;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .nav-links button:hover { background: var(--accent); }
    main {
      background: var(--bg-secondary);
      margin: 30px 0;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    h2 {
      color: var(--accent);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--accent-light);
    }
    form {
      background: var(--bg-primary);
      padding: 25px;
      border-radius: 6px;
    }
    input, textarea, select {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid var(--border);
      border-radius: 4px;
      font-size: 16px;
    }
    button[type="submit"] {
      background: var(--accent);
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
    button[type="submit"]:hover { background: var(--accent-light); }
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    .story-card {
      background: var(--bg-primary);
      border-left: 5px solid var(--accent-light);
      padding: 20px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .story-card h3 { color: var(--accent); margin-bottom: 10px; }
    .story-meta { font-size: 0.9em; color: var(--accent-light); margin-bottom: 15px; }
    .auth-form {
      max-width: 400px;
      margin: 30px auto;
      background: var(--bg-secondary);
      padding: 25px;
      border-radius: 8px;
    }
    .error { color: #ff4444; margin-top: 10px; }
    .success { color: #44ff44; margin-top: 10px; }
    footer {
      text-align: center;
      padding: 30px;
      color: var(--accent-light);
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="logo">Sanestory</div>
      <div class="nav-links">
        <button onclick="showSection('home')">Home</button>
        <button onclick="showSection('submit')">Submit</button>
        <button onclick="showSection('browse')">Browse</button>
        <button onclick="showSection('profile')">Profile</button>
        <button onclick="showSection('register')" id="authBtn">Sign Up</button>
      </div>
    </nav>
  </header>

  <div class="container">
    <!-- === HOME SECTION === -->
    <section id="home" class="section active">
      <h2>Welcome to Sanestory</h2>
      <p>A peer-driven writing community where writers share stories and give constructive feedback. No email required‚Äîjust create a username and password.</p>
      
      <div style="background: #fff9e6; padding: 20px; border-left: 4px solid #ffa500; margin: 20px 0;">
        <h3>How It Works:</h3>
        <ul>
          <li>‚úçÔ∏è Submit your original story</li>
          <li>üí¨ Give feedback on 2 stories for every 1 you submit</li>
          <li>ü§ù Be specific and kind in your critiques</li>
        </ul>
      </div>
    </section>

    <!-- === SUBMIT STORY SECTION === -->
    <section id="submit" class="section">
      <h2>Submit Your Story</h2>
      <form action="https://formspree.io/f/YOUR_FORM_CODE_HERE" method="POST" onsubmit="return handleSubmit(event)">
        <input type="text" name="title" placeholder="Story Title" required>
        <select name="genre" required>
          <option value="">Select Genre</option>
          <option value="fiction">Fiction</option>
          <option value="mystery">Mystery</option>
          <option value="romance">Romance</option>
          <option value="scifi">Sci-Fi</option>
          <option value="horror">Horror</option>
          <option value="poetry">Poetry</option>
        </select>
        <textarea name="story" placeholder="Your story (100+ words recommended)" rows="10" required></textarea>
        <input type="hidden" name="username" id="submitUsername">
        <button type="submit">Submit for Feedback</button>
        <p id="submitMessage" class="error"></p>
      </form>
    </section>

    <!-- === BROWSE STORIES SECTION === -->
    <section id="browse" class="section">
      <h2>Browse Community Stories</h2>
      
      <div class="story-card">
        <h3>The Clockmaker's Secret</h3>
        <div class="story-meta">Genre: Mystery | By: Sarah M. | 3 feedback comments</div>
        <p>The ticking echoed through the dusty shop. Old Man Hemlock hadn't wound the clocks in years, yet they all ran perfectly‚Äîsynced to a heartbeat that wasn't human. Inside the grandfather clock, I found a photograph of a woman who looked exactly like me, dated 1923.</p>
      </div>

      <div class="story-card">
        <h3>The Borrower</h3>
        <div class="story-meta">Genre: Fiction | By: Alex T. | 1 feedback comment</div>
        <p>Elias kept the things people left behind. The silk scarf from March 12th still smelled of perfume. The leather wallet held a ticket stub to a play that closed years ago. When he found the red bicycle, its basket held a note: "If you're reading this, you need it more than I do."</p>
      </div>

      <div class="story-card">
        <h3>Submit Your Story to See It Here!</h3>
        <p>Your story will appear in this gallery once you submit it. Help build our community.</p>
      </div>
    </section>

    <!-- === PROFILE SECTION === -->
    <section id="profile" class="section">
      <h2>Your Profile</h2>
      <div id="profileContent">
        <p>You are not logged in. Please <a href="#" onclick="showSection('register'); return false;">create an account</a> to track your stories.</p>
      </div>
    </section>

    <!-- === REGISTER/LOGIN SECTION === -->
    <section id="register" class="section">
      <h2>Create Account</h2>
      <form class="auth-form" onsubmit="handleRegister(event)">
        <input type="text" id="regUser" placeholder="Choose Username" required>
        <input type="password" id="regPass" placeholder="Choose Password" required>
        <input type="password" id="regPassConfirm" placeholder="Confirm Password" required>
        <button type="submit">Sign Up</button>
        <p id="regMessage" class="error"></p>
      </form>
      <p style="text-align: center;">Already have an account? <a href="#" onclick="showSection('login'); return false;">Login</a></p>
    </section>

    <section id="login" class="section">
      <h2>Login</h2>
      <form class="auth-form" onsubmit="handleLogin(event)">
        <input type="text" id="loginUser" placeholder="Username" required>
        <input type="password" id="loginPass" placeholder="Password" required>
        <button type="submit">Login</button>
        <p id="loginMessage" class="error"></p>
      </form>
      <p style="text-align: center;">New here? <a href="#" onclick="showSection('register'); return false;">Sign up</a></p>
    </section>

    <footer>
      <p>Built for writers, by writers | Sanestory ¬© 2025</p>
    </footer>
  </div>

  <script>
    // NAVIGATION FUNCTION
    function showSection(sectionName) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(sectionName).classList.add('active');
    }

    // SUBMIT FORM HANDLER
    function handleSubmit(event) {
      const user = localStorage.getItem('loggedInUser');
      if (!user) {
        document.getElementById('submitMessage').textContent = 'Please create an account first!';
        showSection('register');
        event.preventDefault();
        return false;
      }
      document.getElementById('submitUsername').value = user;
      return true; // Allow form to submit to Formspree
    }

    // REGISTRATION
    function handleRegister(event) {
      event.preventDefault();
      const user = document.getElementById('regUser').value;
      const pass = document.getElementById('regPass').value;
      const confirm = document.getElementById('regPassConfirm').value;
      
      if (pass !== confirm) {
        document.getElementById('regMessage').textContent = 'Passwords do not match!';
        return;
      }
      
      if (localStorage.getItem('user_' + user)) {
        document.getElementById('regMessage').textContent = 'Username already exists!';
        return;
      }
      
      localStorage.setItem('user_' + user, JSON.stringify({ password: pass, joined: new Date().toLocaleDateString() }));
      localStorage.setItem('loggedInUser', user);
      
      alert('Account created successfully! You are now logged in.');
      updateProfile();
      showSection('home');
      document.getElementById('authBtn').textContent = 'Logout';
    }

    // LOGIN
    function handleLogin(event) {
      event.preventDefault();
      const user = document.getElementById('loginUser').value;
      const pass = document.getElementById('loginPass').value;
      const stored = localStorage.getItem('user_' + user);
      
      if (!stored) {
        document.getElementById('loginMessage').textContent = 'Username not found!';
        return;
      }
      
      const data = JSON.parse(stored);
      if (data.password !== pass) {
        document.getElementById('loginMessage').textContent = 'Wrong password!';
        return;
      }
      
      localStorage.setItem('loggedInUser', user);
      alert('Welcome back, ' + user + '!');
      updateProfile();
      showSection('home');
      document.getElementById('authBtn').textContent = 'Logout';
    }

    // LOGOUT
    function handleLogout() {
      localStorage.removeItem('loggedInUser');
      document.getElementById('authBtn').textContent = 'Sign Up';
      showSection('home');
      updateProfile();
    }

    // UPDATE PROFILE DISPLAY
    function updateProfile() {
      const user = localStorage.getItem('loggedInUser');
      const content = document.getElementById('profileContent');
      
      if (user) {
        const data = JSON.parse(localStorage.getItem('user_' + user) || '{}');
        content.innerHTML = `
          <h3>Hello, ${user}!</h3>
          <p><strong>Member since:</strong> ${data.joined || 'Today'}</p>
          <p><strong>Stories submitted:</strong> 0 (coming soon)</p>
          <p><strong>Feedback given:</strong> 0 (coming soon)</p>
          <button onclick="handleLogout()">Logout</button>
        `;
      } else {
        content.innerHTML = `<p>You are not logged in. <a href="#" onclick="showSection('register'); return false;">Create an account</a> to track your activity.</p>`;
      }
    }

    // THEME TOGGLE (Bonus Feature)
    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('sanestory-theme') || 'light';
      document.documentElement.style.setProperty('--bg-primary', savedTheme === 'dark' ? '#1a1a1a' : '#f5f3f0');
    });

    function toggleTheme() {
      const current = document.documentElement.style.getPropertyValue('--bg-primary');
      const newTheme = current === '#f5f3f0' ? 'dark' : 'light';
      localStorage.setItem('sanestory-theme', newTheme);
      location.reload(); // Simple reload for theme change
    }

    // Initialize
    updateProfile();
    document.getElementById('authBtn').onclick = function() {
      this.textContent === 'Logout' ? handleLogout() : showSection('register');
    };
  </script>
</body>
</html>

      
